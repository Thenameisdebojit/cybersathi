# ==================================
# CyberSathi Backend Configuration
# ==================================
# Copy this file to .env and update with your actual values

# ----------------------------------
# Application Settings
# ----------------------------------
APP_NAME=CyberSathi
APP_VERSION=1.0.0
DEBUG=True
PORT=8000
HOST=0.0.0.0
FRONTEND_URL=http://localhost:5000
ENVIRONMENT=development

# ----------------------------------
# MongoDB Database
# ----------------------------------
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=cybersathi
MONGODB_MIN_POOL_SIZE=10
MONGODB_MAX_POOL_SIZE=100

# ----------------------------------
# Redis Cache & Queue
# ----------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50
CACHE_TTL=3600

# ----------------------------------
# Celery Background Tasks
# ----------------------------------
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ----------------------------------
# WhatsApp Meta Cloud API
# ----------------------------------
# Get these from Meta Business Suite:
# https://business.facebook.com/settings/whatsapp-business-accounts/
META_VERIFY_TOKEN=your_verify_token_here
META_ACCESS_TOKEN=your_whatsapp_access_token
META_APP_SECRET=your_app_secret
META_PHONE_NUMBER_ID=your_phone_number_id
META_BUSINESS_ACCOUNT_ID=your_business_account_id
WHATSAPP_API_VERSION=v18.0
WHATSAPP_API_BASE_URL=https://graph.facebook.com

# ----------------------------------
# NCRP Integration (National Cybercrime Reporting Portal)
# ----------------------------------
# ⚠️ IMPORTANT: Set NCRP_MOCK_MODE=True if you don't have NCRP credentials
# This will bypass actual NCRP API calls and simulate responses
NCRP_API_URL=https://cybercrime.gov.in/api
NCRP_CLIENT_ID=your_ncrp_client_id
NCRP_CLIENT_SECRET=your_ncrp_client_secret
NCRP_API_KEY=your_ncrp_api_key
NCRP_MOCK_MODE=True

# ----------------------------------
# Security & JWT
# ----------------------------------
SECRET_KEY=your_secret_key_min_32_chars_change_in_production
ENCRYPTION_KEY=your_encryption_key_exactly_32_bytes_for_fernet
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----------------------------------
# Google OAuth (Optional)
# ----------------------------------
# Get these from Google Cloud Console
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:5000/auth/google/callback

# ----------------------------------
# Password Policy
# ----------------------------------
MIN_PASSWORD_LENGTH=8
REQUIRE_SPECIAL_CHARS=True

# ----------------------------------
# Rate Limiting
# ----------------------------------
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60

# ----------------------------------
# Rasa NLP (Optional - for advanced NLU)
# ----------------------------------
RASA_API_URL=http://localhost:5005
RASA_MODEL_PATH=./rasa/models
RASA_ENABLED=False
NLP_CONFIDENCE_THRESHOLD=0.6

# ----------------------------------
# Helpline Information
# ----------------------------------
HELPLINE_NUMBER=1930
HELPLINE_EMAIL=support@cybercrime.gov.in

# ----------------------------------
# Admin Credentials (First Time Setup)
# ----------------------------------
ADMIN_EMAIL=admin@cybersathi.in
ADMIN_PASSWORD=Admin@1930
ADMIN_PHONE=+919999999999

# ----------------------------------
# AI Chatbot - OpenAI Integration (Optional)
# ----------------------------------
# Get API key from: https://platform.openai.com/api-keys
# ⚠️ The chatbot will show an error if this is not set, but the app will work
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=500

# ----------------------------------
# File Storage Configuration
# ----------------------------------
# Storage type: 'local' or 's3'
STORAGE_TYPE=local
LOCAL_STORAGE_PATH=./data/uploads

# S3 Configuration (only if STORAGE_TYPE=s3)
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET_NAME=cybersathi-uploads
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# ----------------------------------
# External Services (Optional)
# ----------------------------------
SMS_API_KEY=your_sms_api_key
SMS_API_URL=https://api.sms-provider.com/send
EMAIL_SERVICE_API_KEY=your_email_api_key
EMAIL_FROM=noreply@cybersathi.in

# ----------------------------------
# Monitoring & Logging
# ----------------------------------
SENTRY_DSN=your_sentry_dsn_if_using
LOG_LEVEL=INFO
ENABLE_METRICS=True

# ----------------------------------
# File Upload Configuration
# ----------------------------------
MAX_UPLOAD_SIZE_MB=10
UPLOAD_DIR=./uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,doc,docx,mp4,avi,mov

# ----------------------------------
# CORS Configuration
# ----------------------------------
CORS_ORIGINS=http://localhost:5000,http://localhost:3000,http://localhost:5173

# ----------------------------------
# Data Retention Policy
# ----------------------------------
DATA_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=730
